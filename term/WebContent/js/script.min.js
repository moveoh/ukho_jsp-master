function login(){var a=$("#login_form");a.find("input").attr("readonly","");var b=a.find("input[name=pw]");return b.val(calcMD5(b.val())),$.ajax({data:a.serialize(),success:function(a){a.suc?($("#login").transition({opacity:"0",top:"0px"},function(){$(this).hide()}),$("header").hide().html(a.header).show(),$("main").hide().html(a.main).show(),$("footer").hide().html(a.footer).show()):alert(a.msg)}}),b.val(""),a.find("input").removeAttr("readonly"),!1}function signup(){var a=$("#login_form"),b=a.find("input[name=id]").val(),c=a.find("input[name=pw]").val();if(b.length<5||c.length<5)return void a.submit();var d=prompt("\ube44\ubc00\ubc88\ud638\ub97c \ub2e4\uc2dc \uc785\ub825\ud574 \uc8fc\uc138\uc694.");d&&(c!=d?alert("\ube44\ubc00\ubc88\ud638\uac00 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."):$.ajax({data:{target:"login",oper:"signup",ajax:!0,id:b,pw:calcMD5(c)},success:function(a){a.suc?alert("\uac00\uc785\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."):alert("\uac00\uc785\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}}))}function logout(){$.ajax({data:{target:"session",oper:"logout"},success:function(){location.reload()},dataType:"text"})}function showProb(a){$.ajax({data:{target:"prob",oper:"show_prob",ajax:!0,idx:a},success:function(b){$("#prob_detail").find(".button").removeClass("success danger").text("\uc778\uc99d").end().find("input[name=idx]").val(a).end().find(".name").text(b.name+" ").append($("<small/>").addClass("capital").text(b.category)).end().find(".introduce").html(b.introduce).end().find(".path").html(b.path).end().find(".auth").text(b.auth).end().find(".solved_person").html("<option>"+b.solved_person.join("</option><option>")+"</option>").end().find(".solved_count").text(b.solved_count).end().find("input[name=flag]").val("").end().show().data("dialog").open()}})}function submitFlag(){var a=$("#flag_form"),b=a.find("button"),c=a.find("input[name=id]").val(),d=a.find("input[name=flag]").val();return idx=a.find("input[name=idx]").val(),d=calcMD5(c+d),$.ajax({data:{target:"prob",oper:"flag",ajax:!0,idx:idx,flag:d},success:function(a){a.suc?($("#score").text(a.score),$(".prob[data-idx="+idx+"]").addClass("solved"),b.addClass("success").text("\uc778\uc99d \uc131\uacf5")):b.addClass("danger").text("\uc778\uc99d \uc2e4\ud328")}}),!1}function moveMenu(a){$.ajax({data:{target:a},success:function(a){$("main").transition({opacity:0,x:200},function(){this.css({x:-200}),this[0].innerHTML=a}).transition({opacity:1,x:0},function(){this.removeAttr("style")})},dataType:"text"})}$.ajaxSetup({url:".",method:"POST",dataType:"json"});